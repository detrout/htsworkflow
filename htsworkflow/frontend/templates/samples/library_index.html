{% extends "base_site.html" %}
{% load adminmedia admin_list i18n %}

{% block bodyclass %}change-list{% endblock %}
{% block coltype %}flex{% endblock %}

{% block content %}
<div id="library-index-div" class="djangocss">
  <div class="module{% if cl.has_filters %} filtered{% endif %}" id="changelist">
    {% block search %}{% search_form cl %}{% endblock %}

    {% block filters %}
    {% if cl.has_filters %}
    <div id="changelist-filter">
      <h2 class="djangocss">{% trans 'Filter' %}</h2>
      {% for spec in cl.filter_specs %}
         {% admin_list_filter cl spec %}
         {% endfor %}
       </div>
       {% endif %}
       {% endblock %}

  
 {% block pagination %}{% pagination cl %}{% endblock %}

{% block summary_stats %}
<table class="djangocss">
  <thead class="djangocss">
    <tr class="djangocss">
      <td class="djangocss">Parent</td>
      <td class="djangocss">Library ID</td>
      <td class="djangocss">Species</td>
      <td class="djangocss">Library Name</td>
      <td colspan="3" class="djangocss">Single</td>
      <td colspan="3" class="djangocss">Paired</td>
      <td class="djangocss">HD</td>
    </tr>
    <tr class="djangocss">
      <td colspan="4"></td>
      <td>&lt;40</td>
      <td>&lt;100</td>
      <td>100+</td>
      <td>&lt;40</td>
      <td>&lt;100</td>
      <td>100+</td>
      <td></td>
    </tr>
  </thead>
  <tbody class="djangocss">
    {% for lib in library_list %}
    <tr class="djangocss">
      <td class="djangocss"><a href="/library/{{ lib.library_id }}">{{ lib.amplified_from }}</a></td>
      <td class="djangocss"><a href="/library/{{ lib.library_id }}">{{ lib.library_id }}</a></td>
      <td class="djangocss"><a href="/library/{{ lib.library_id }}">{{ lib.species_name }}</a></td>
      <td class="djangocss"><a href="/library/{{ lib.library_id }}">{{ lib.library_name }}</a></td>
      <td class="djangocss" bgcolor="#00BFFF">{{ lib.lanes_run.0.0 }}</td>      
      <td class="djangocss" bgcolor="#00BFFF">{{ lib.lanes_run.0.1 }}</td>      
      <td class="djangocss" bgcolor="#00BFFF">{{ lib.lanes_run.0.2 }}</td>      
      <td class="djangocss" bgcolor="#66CDAA">{{ lib.lanes_run.1.0 }}</td>
      <td class="djangocss" bgcolor="#66CDAA">{{ lib.lanes_run.1.1 }}</td>      
      <td class="djangocss" bgcolor="#66CDAA">{{ lib.lanes_run.1.2 }}</td>      
      {% if lib.is_archived %}
        <td class="djangocss"><img src="/static/img/hdd_unmount.png" alt="Archived" /></td>
      {% else %}
        <td class="djangocss"></td>
      {% endif %}
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% endblock %}
{% endblock %}
